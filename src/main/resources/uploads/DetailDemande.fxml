<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<VBox spacing="20.0" style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 30;" prefWidth="550.0" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="edu.connection3a7.controller.DetailDemandeController">

    <effect>
        <DropShadow color="#00000020" height="20.0" radius="9.5" width="20.0"/>
    </effect>

    <children>
        <!-- HEADER -->
        <HBox alignment="CENTER_LEFT" spacing="10.0">
            <children>
                <Button fx:id="btnRetour" onAction="#retour" style="-fx-background-color: transparent; -fx-cursor: hand;">
                    <graphic>
                        <Label text="⬅️" style="-fx-font-size: 24;"/>
                    </graphic>
                </Button>
                <Label text="Détail de la demande" textFill="#1a961e">
                    <font>
                        <Font name="System Bold" size="24.0"/>
                    </font>
                </Label>
            </children>
        </HBox>

        <Separator/>

        <!-- INFORMATIONS DEMANDE -->
        <GridPane hgap="20.0" vgap="15.0">
            <columnConstraints>
                <ColumnConstraints percentWidth="30"/>
                <ColumnConstraints percentWidth="70"/>
            </columnConstraints>

            <children>
                <Label text="ID Demande :" style="-fx-font-weight: bold; -fx-font-size: 13;" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                <Label fx:id="lblId" style="-fx-font-size: 13;" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                <Label text="Utilisateur :" style="-fx-font-weight: bold; -fx-font-size: 13;" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                <Label fx:id="lblUtilisateur" style="-fx-font-size: 13;" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                <Label text="Technicien :" style="-fx-font-weight: bold; -fx-font-size: 13;" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                <Label fx:id="lblTechnicien" style="-fx-font-size: 13;" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                <Label text="Spécialité :" style="-fx-font-weight: bold; -fx-font-size: 13;" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                <Label fx:id="lblTechSpecialite" style="-fx-font-size: 13;" GridPane.columnIndex="1" GridPane.rowIndex="3"/>

                <Label text="Téléphone :" style="-fx-font-weight: bold; -fx-font-size: 13;" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                <Label fx:id="lblTechTel" style="-fx-font-size: 13;" GridPane.columnIndex="1" GridPane.rowIndex="4"/>

                <Label text="Email :" style="-fx-font-weight: bold; -fx-font-size: 13;" GridPane.columnIndex="0" GridPane.rowIndex="5"/>
                <Label fx:id="lblTechEmail" style="-fx-font-size: 13;" GridPane.columnIndex="1" GridPane.rowIndex="5"/>

                <Label text="Type problème :" style="-fx-font-weight: bold; -fx-font-size: 13;" GridPane.columnIndex="0" GridPane.rowIndex="6"/>
                <Label fx:id="lblType" style="-fx-font-size: 13;" GridPane.columnIndex="1" GridPane.rowIndex="6"/>

                <Label text="Description :" style="-fx-font-weight: bold; -fx-font-size: 13;" GridPane.columnIndex="0" GridPane.rowIndex="7"/>
                <TextArea fx:id="lblDescription" editable="false" wrapText="true" prefHeight="100.0" style="-fx-font-size: 13;" GridPane.columnIndex="1" GridPane.rowIndex="7"/>

                <Label text="Date demande :" style="-fx-font-weight: bold; -fx-font-size: 13;" GridPane.columnIndex="0" GridPane.rowIndex="8"/>
                <Label fx:id="lblDate" style="-fx-font-size: 13;" GridPane.columnIndex="1" GridPane.rowIndex="8"/>

                <Label text="Statut :" style="-fx-font-weight: bold; -fx-font-size: 13;" GridPane.columnIndex="0" GridPane.rowIndex="9"/>
                <Label fx:id="lblStatut" style="-fx-font-size: 13; -fx-font-weight: bold;" GridPane.columnIndex="1" GridPane.rowIndex="9"/>
            </children>
        </GridPane>

        <Separator/>

        <!-- BOUTONS D'ACTION -->
        <HBox alignment="CENTER" spacing="15.0">
            <children>
                <Button fx:id="btnAccepter" onAction="#accepterDemande" text="✅  Accepter" style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 25; -fx-cursor: hand;" prefHeight="40.0" prefWidth="120.0" visible="false" managed="false"/>
                <Button fx:id="btnRefuser" onAction="#refuserDemande" text="❌  Refuser" style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 25; -fx-cursor: hand;" prefHeight="40.0" prefWidth="120.0" visible="false" managed="false"/>
                <Button fx:id="btnTerminer" onAction="#terminerDemande" text="✓  Terminer" style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 25; -fx-cursor: hand;" prefHeight="40.0" prefWidth="120.0" visible="false" managed="false"/>
                <Button fx:id="btnFermer" onAction="#fermer" text="❌  Fermer" style="-fx-background-color: #95a5a6; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 25; -fx-cursor: hand;" prefHeight="40.0" prefWidth="120.0"/>
            </children>
        </HBox>
    </children>
</VBox>